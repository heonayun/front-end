<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>체크박스 실습</title>
    </head>
    <body>
        <label> <input type="checkbox" value="선택1" /> 선택1 </label>
        <label> <input type="checkbox" value="선택2" /> 선택2 </label>
        <label> <input type="checkbox" value="선택3" /> 선택3 </label>
        <p id="result"></p>
    </body>
    <script>
        // 체크된 체크박스의 value값을 콘솔에 출력하기
        // const checkboxes = document.querySelectorAll("input[type='checkbox']");
        // checkboxes.forEach((checkbox) => {
        //     checkbox.addEventListener("change", () => {
        //         if (checkbox.checked) {
        //             console.log(checkbox.value);
        //         }
        //     });
        // });

        // 체크된 체크박스의 value값이 p태그에 작성된다.
        // 3개를 선택하면 3개의 value값이 선택된 순서대로 p태그에 작성된다.
        // 체크를 해제하면 해당 내용이 p태그에서 삭제된다.

        NodeList.prototype.filter = Array.prototype.filter;
    
        const checkboxes = document.querySelectorAll("input[type='checkbox']");
        const result = document.getElementById("result");

        checkboxes.forEach((checkbox) => {
            checkbox.addEventListener("change", (e) => {
                let text = "";
                if(e.target.checked) {
                    text = `<span class="text">${e.target.value}</span>`;
                    result.innerHTML += text;
                }else{
                    const spans = document.querySelectorAll("span.text");
                    spans.filter((span) => span.innerText !== e.target.value)
                    .forEach((span) => {
                        text += `<span class="text">${span.innerText}</span>`
                    });
                    result.innerHTML = text;
                }
            });
        });
    </script>
</html>